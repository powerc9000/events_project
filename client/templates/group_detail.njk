{%extends "layout.njk"%}
{%import "partials/form_messages.njk" as messages%}
{%from "partials/event_detail/invite_to_event.njk" import invite_form%}
{%block content%}
	<div class="content container mx-auto h-full" data-controller="group-detail">

		<div class="sm:flex h-full">
			<div class="sm:w-8/12 p-4">

				<h1 class="text-2xl flex items-center justify-center"><span>{{group.name}}</span> <span class="ml-2 align-middle"><span class="p-1 text-sm text-white bg-green-800 rounded align-middle">{{members.length}} {{"members" if members.length > 1 else "member"}}</span></span>
					<a class="ml-2 btn btn-blue text-xs" href="/groups/{{group.custom_path if group.custom_path else group.id}}/edit">Edit</a></h1>
					 {{invite_form(invitePath, canInvite, multiple=false, success_message="User added to group!")}}
					 <div class="trix-c my-2">
						 <details open>
							 <summary class="cursor-pointer">Description</summary>
							 {{description | safe}}
						 </details>
					 </div>
			</div>
					 <div class="mt-4 flex sm:border-l border-gray-300 sm:p-4">
						 <div class="">
							 <h3 class="text-xl">Events <a href="/create?group={{group.id}}" class="btn btn-blue text-sm">Create Event</a></h3>
							 <ul class="mt-4 list-disc list-inside">
								 {%for event in events%}
									 <li class="mb-2">
										 <a href="/events/{{event.slug}}" class="text-blue-700 hover:underline">{{event.name}}</a>
									 </li>
								 {%endfor%}
							 </ul>
						 </div>
					 </div>
		</div>
	</div>
{%endblock%}
